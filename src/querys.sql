SELECT
	AVG(RE.RATING) AS AVERAGE_RATING, USER_RATING, GA.ID AS ID_GAME, GA.NAME AS NAME
FROM
	GAME GA, REVIEW RE, USER US,
    (
		SELECT
			GA.ID AS IDG, RATING AS USER_RATING
		FROM
			GAME GA LEFT JOIN REVIEW RE ON GA.ID = RE.ID_GAME AND RE.ID_USER = 1
        ORDER BY
			GA.ID
    ) SUB
WHERE
	GA.ID = RE.ID_GAME AND
    RE.ID_USER = US.ID AND
    IDG = RE.ID_GAME
GROUP BY
	GA.NAME, USER_RATING, GA.ID
ORDER BY
	GA.ID;
    
    
SELECT
	SH.URL AS STORE_URL, WG.URL AS GAME_URL, ID_LIST, ID_STORE, 
	WG.NAME, WG.IMG, DEFAULT_PRICE, CURRENT_PRICE, 
	(100 - (CURRENT_PRICE * 100 / DEFAULT_PRICE)) AS DISCOUNT,
	LAST_NOTIFIED_PRICE, MIN_PRICE, MAX_PRICE
FROM
	WISHLIST_GAME WG, LIST LI, STORE SH
WHERE
	LI.ID = WG.ID_LIST AND
	SH.ID = WG.ID_STORE AND
	LI.ID_USER = 1;
    
    
SELECT
	SH.URL AS STORE_URL, WG.URL AS GAME_URL, ID_LIST, ID_STORE, 
	WG.NAME, WG.IMG, DEFAULT_PRICE, CURRENT_PRICE, 
	(100 - (CURRENT_PRICE * 100 / DEFAULT_PRICE)) AS DISCOUNT,
	LAST_NOTIFIED_PRICE, MIN_PRICE, MAX_PRICE
FROM
	WISHLIST_GAME WG, LIST LI, STORE SH
WHERE
	LI.ID = WG.ID_LIST AND
	SH.ID = WG.ID_STORE AND
	LI.ID_USER = 1 AND
	WG.URL = "URL";
    
    
SELECT * FROM STORE;
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    